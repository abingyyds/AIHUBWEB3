endpoints:
  assistants:
    disableBuilder: false
    pollIntervalMs: 2000
    timeoutMs: 180000
    capabilities: ["code_interpreter", "retrieval", "actions", "tools", "image_vision"]

  agents:
    disableBuilder: false
    recursionLimit: 50
    maxRecursionLimit: 100
    allowedProviders:
      - openAI
      - assistants
      - LiteLLM
      - OpenRouter
      - groq
      - Mistral
      - Deepseek
      - Perplexity
      - Fireworks
      - together.ai
      - xai
      - ollama
      - vLLM
    capabilities: ["execute_code", "file_search", "actions", "tools", "artifacts", "context", "ocr", "chain", "web_search"]

  # -----------------------------------------
  # OpenAI (OBJECT) - 用于图片生成/或你希望走 OpenAI 内置能力的路径
  # 重要：v1.3.1 这里必须是 object，不能是数组
  # -----------------------------------------
  openAI:
    apiKey: "${LITELLM_VIRTUAL_KEY}"
    baseURL: "${LITELLM_BASE_URL}"
    models:
      default:
        - "gemini-3-pro-image-preview"
    # 可选：如果你希望默认就走某个模型
    # defaultModel: "gemini-3-pro-image-preview"

  # -----------------------------------------
  # Custom Endpoints (ARRAY) - OpenAI-compatible / 其它聚合
  # v1.3.1 最稳：都放 custom 数组里
  # -----------------------------------------
  custom:
    - name: "LiteLLM"
      apiKey: "${LITELLM_VIRTUAL_KEY}"
      baseURL: "${LITELLM_BASE_URL}"
      models:
        fetch: true
      titleConvo: true
      modelDisplayLabel: "LiteLLM"

    - name: "OpenRouter"
      apiKey: "${OPENROUTER_API_KEY}"
      baseURL: "https://openrouter.ai/api/v1"
      models:
        fetch: true
        default:
          - "anthropic/claude-3.5-sonnet"
          - "google/gemini-2.0-flash-001"
          - "openai/gpt-4o-mini"
      titleConvo: true
      titleModel: "openai/gpt-4o-mini"
      dropParams: ["stop"]
      modelDisplayLabel: "OpenRouter"

    - name: "groq"
      apiKey: "${GROQ_API_KEY}"
      baseURL: "https://api.groq.com/openai/v1"
      models:
        fetch: false
        default:
          - "llama-3.1-8b-instant"
          - "llama3-70b-8192"
          - "mixtral-8x7b-32768"
      titleConvo: true
      titleMethod: "completion"
      titleModel: "llama3-70b-8192"
      modelDisplayLabel: "groq"

    - name: "Mistral"
      apiKey: "${MISTRAL_API_KEY}"
      baseURL: "https://api.mistral.ai/v1"
      models:
        fetch: true
        default:
          - "mistral-small"
          - "mistral-medium"
          - "mistral-large-latest"
      titleConvo: true
      titleModel: "mistral-small"
      dropParams: ["stop", "user", "frequency_penalty", "presence_penalty"]
      modelDisplayLabel: "Mistral"

    - name: "Deepseek"
      apiKey: "${DEEPSEEK_API_KEY}"
      baseURL: "${DEEPSEEK_BASE_URL}"
      models:
        fetch: true
        default: ["${DEEPSEEK_DEFAULT_MODEL}"]
      titleConvo: true
      titleMethod: "completion"
      titleModel: "${DEEPSEEK_DEFAULT_MODEL}"
      modelDisplayLabel: "Deepseek"

    - name: "Perplexity"
      apiKey: "${PERPLEXITY_API_KEY}"
      baseURL: "${PERPLEXITY_BASE_URL}"
      models:
        fetch: true
        default: ["${PERPLEXITY_DEFAULT_MODEL}"]
      titleConvo: true
      titleModel: "${PERPLEXITY_DEFAULT_MODEL}"
      modelDisplayLabel: "Perplexity"

    - name: "Fireworks"
      apiKey: "${FIREWORKS_API_KEY}"
      baseURL: "${FIREWORKS_BASE_URL}"
      models:
        fetch: true
        default: ["${FIREWORKS_DEFAULT_MODEL}"]
      titleConvo: true
      titleModel: "${FIREWORKS_DEFAULT_MODEL}"
      modelDisplayLabel: "Fireworks"

    - name: "together.ai"
      apiKey: "${TOGETHERAI_API_KEY}"
      baseURL: "https://api.together.xyz/v1"
      models:
        fetch: false
        default:
          - "meta-llama/Llama-3.1-70B-Instruct-Turbo"
          - "mistralai/Mixtral-8x7B-Instruct-v0.1"
      titleConvo: true
      titleModel: "meta-llama/Llama-3.1-70B-Instruct-Turbo"
      modelDisplayLabel: "together.ai"

    - name: "xai"
      apiKey: "${XAI_API_KEY}"
      baseURL: "https://api.x.ai/v1"
      models:
        fetch: false
        default: ["grok-beta"]
      titleConvo: true
      titleMethod: "completion"
      titleModel: "grok-beta"
      modelDisplayLabel: "Grok"

    - name: "vLLM"
      apiKey: "${VLLM_API_KEY}"
      baseURL: "${VLLM_BASE_URL}"
      models:
        fetch: true
        default: ["${VLLM_DEFAULT_MODEL}"]
      titleConvo: true
      titleModel: "${VLLM_DEFAULT_MODEL}"
      modelDisplayLabel: "vLLM"

    - name: "ollama"
      apiKey: "${OLLAMA_API_KEY}"
      baseURL: "${OLLAMA_BASE_URL}"
      models:
        fetch: true
        default: ["${OLLAMA_DEFAULT_MODEL}"]
      titleConvo: true
      titleModel: "${OLLAMA_DEFAULT_MODEL}"
      modelDisplayLabel: "ollama"
